<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Settings UI</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-black text-white min-h-screen w-screen">
  <div class="flex min-h-screen">
    <!-- Sidebar -->
    <aside class="w-64 bg-gray-900 p-5 flex flex-col justify-between">
      <div>
        <h1 class="text-3xl font-bold text-yellow-400">VR</h1>
        <nav class="mt-6">
          <ul class="space-y-3">
            <a href="AdminDash.html">
              <li class="p-3 hover:bg-gray-700 rounded flex items-center space-x-2 cursor-pointer">
                <span class="text-xl">üè†</span>
                <span>Dashboard</span>
              </li>
            </a>
            <a href="ApplyPass.html">
              <li class="p-3 hover:bg-gray-700 rounded flex items-center space-x-2 cursor-pointer">
                <span class="text-xl">üìù</span>
                <span>Apply for Pass</span>
              </li>
            </a>
            <a href="Tracking.html">
              <li class="p-3 hover:bg-gray-700 rounded flex items-center space-x-2 cursor-pointer">
                <span class="text-xl">üöó</span>
                <span>Pass Status Tracking</span>
              </li>
            </a>
            <a href="Notification.html">
              <li class="p-3 hover:bg-gray-700 rounded flex items-center space-x-2 cursor-pointer">
                <span class="text-xl">üîî</span>
                <span>Notification & Alerts</span>
              </li>
            </a>
            <a href="SetProfile.html">
              <li class="bg-yellow-400 text-black p-3 rounded flex items-center space-x-2">
                <span class="text-xl">‚öôÔ∏è</span>
                <span>Settings</span>
              </li>
            </a>
          </ul>
        </nav>                
      </div>
      <div class="text-left">
        <img id="sidebarImg" src="mark.jpg" class="rounded-full w-16 h-16 border-4 border-gray-700" alt="User">
        <p class="text-sm mt-2" id="sidebarName">User Name</p>
        <p class="text-xs text-gray-400" id="sidebarUsername">@Username1</p>
        <button class="mt-4 bg-red-600 p-2 w-full rounded flex items-center justify-center space-x-2">
          <span class="text-xl">‚Ü©Ô∏è</span>
          <span>Logout</span>
        </button>
      </div>
    </aside>

    <!-- Main Panel -->
    <div class="flex-1 p-6 overflow-y-auto">
      <div class="flex justify-between items-center">
        <h1 class="text-5xl font-bold text-yellow-400">Settings</h1>
        <div class="relative w-1/3">
          <input type="text" class="w-full bg-gray-800 text-white px-4 py-2 rounded-lg pl-10" placeholder="Search a Setting">
          <span class="absolute left-3 top-2.5 text-yellow-400">üîç</span>
        </div>
      </div>

      <div class="flex mt-6">
        <!-- Settings Sidebar Menu -->
        <div class="w-1/5 bg-gray-800 p-4 rounded-lg">
          <ul class="space-y-2">
            <li class="bg-gray-700 p-3 rounded">Profile</li>
            <a href="SetAccount.html">
              <li class="hover:bg-gray-700 p-3 rounded cursor-pointer hover:text-green-400">Account</li>
            </a>
            <a href="SetSecurity.html">
              <li class="hover:bg-gray-700 p-3 rounded cursor-pointer hover:text-green-400">Security</li>
            </a>
            <a href="SetNotification.html">
              <li class="hover:bg-gray-700 p-3 rounded cursor-pointer hover:text-green-400">Notification</li>
            </a>
            <a href="SetHelp.html">
              <li class="hover:bg-gray-700 p-3 rounded cursor-pointer hover:text-green-400">Help & Support</li>
            </a>
          </ul>
        </div>

        <!-- Settings Panel -->
        <div class="flex-1 bg-gray-900 p-6 rounded-lg ml-6">
          <div class="flex items-center space-x-4">
            <img id="profileImg" src="mark.jpg" class="w-32 h-32 rounded-full" alt="Profile Picture">
            <div>
              <input type="file" id="imgInput" accept="image/*" class="hidden" onchange="handleImageChange(event)">
              <button onclick="document.getElementById('imgInput').click()" class="bg-gray-600 text-white px-4 py-2 rounded">Change Picture</button>
              <button onclick="deleteImage()" class="bg-red-600 text-white px-4 py-2 rounded ml-2">Delete Picture</button>
            </div>
          </div>

          <div class="mt-6">
            <label class="block text-gray-400">Profile Name</label>
            <input type="text" id="profileName" class="block w-64 bg-gray-700 text-white p-2 rounded mt-1 text-lg">

            <label class="block text-gray-400 mt-4">Username</label>
            <input type="text" id="username" class="block w-64 bg-gray-700 text-white p-2 rounded mt-1 text-lg">

            <label class="block text-gray-400 mt-4">Corporate Email</label>
            <input type="email" id="email" class="block w-64 bg-gray-700 text-white p-2 rounded mt-1 text-lg">

            <label class="block text-gray-400 mt-4">Payment Status</label>
            <input type="text" id="paymentStatus" class="block w-64 bg-gray-700 text-white p-2 rounded mt-1 text-lg">
          </div>

          <div class="mt-6 flex space-x-4">
            <button onclick="saveSettings()" class="bg-yellow-400 text-black px-6 py-3 rounded text-lg w-full">Save Changes</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    const defaultImg = "mark.jpg";

    window.onload = function () {
      // Text data
      document.getElementById("profileName").value = localStorage.getItem("profileName") || "Mark Jardin";
      document.getElementById("username").value = localStorage.getItem("username") || "@Mark Jardin";
      document.getElementById("email").value = localStorage.getItem("email") || "202280233@psu.palawan.edu.ph";
      document.getElementById("paymentStatus").value = localStorage.getItem("paymentStatus") || "Processing";

      document.getElementById("sidebarName").innerText = localStorage.getItem("profileName") || "User Name";
      document.getElementById("sidebarUsername").innerText = localStorage.getItem("username") || "@Username1";

      // Image
      const savedImage = localStorage.getItem("profileImage");
      if (savedImage) {
        document.getElementById("profileImg").src = savedImage;
        document.getElementById("sidebarImg").src = savedImage;
      }
    };

    function saveSettings() {
      localStorage.setItem("profileName", document.getElementById("profileName").value);
      localStorage.setItem("username", document.getElementById("username").value);
      localStorage.setItem("email", document.getElementById("email").value);
      localStorage.setItem("paymentStatus", document.getElementById("paymentStatus").value);

      document.getElementById("sidebarName").innerText = document.getElementById("profileName").value;
      document.getElementById("sidebarUsername").innerText = document.getElementById("username").value;

      alert("‚úÖ Settings saved!");
    }

    function handleImageChange(event) {
      const file = event.target.files[0];
      if (file && file.type.startsWith("image/")) {
        const reader = new FileReader();
        reader.onload = function (e) {
          const imgData = e.target.result;
          localStorage.setItem("profileImage", imgData);
          document.getElementById("profileImg").src = imgData;
          document.getElementById("sidebarImg").src = imgData;
        };
        reader.readAsDataURL(file);
      }
    }

    function deleteImage() {
      localStorage.removeItem("profileImage");
      document.getElementById("profileImg").src = defaultImg;
      document.getElementById("sidebarImg").src = defaultImg;
    }
  </script>
</body>
</html>
